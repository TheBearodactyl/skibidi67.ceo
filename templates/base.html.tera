<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}{{ site_host | default(value="skibidi67.ceo") }}{% endblock %}</title>
  <meta name="description" content="{% block meta_description %}Share media for free on {{ site_host | default(value="skibidi67.ceo") }}.{% endblock %}">
  <meta name="theme-color" content="#1e1e2e">
  {% block robots %}<meta name="robots" content="index, follow">{% endblock %}

  <meta property="og:site_name" content="{{ site_host | default(value="skibidi67.ceo") }}">
  <meta property="og:title" content="{% block og_title %}{{ site_host | default(value="skibidi67.ceo") }}{% endblock %}">
  <meta property="og:description" content="{% block og_description %}Share media for free on {{ site_host | default(value="skibidi67.ceo") }}.{% endblock %}">
  <meta property="og:type" content="{% block og_type %}website{% endblock %}">
  {% block og_extra %}{% endblock %}

  {% block twitter_extra %}
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="{% block twitter_title %}{{ site_host | default(value="skibidi67.ceo") }}{% endblock %}">
  <meta name="twitter:description" content="{% block twitter_description %}Share media for free on {{ site_host | default(value="skibidi67.ceo") }}.{% endblock %}">
  {% endblock %}

  {% block canonical %}{% endblock %}

  {% block structured_data %}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "{{ site_host | default(value="skibidi67.ceo") }}",
    "url": "https://{{ site_host | default(value="skibidi67.ceo") }}"
  }
  </script>
  {% endblock %}

  <link id="gfonts-preconnect1" rel="preconnect" href="https://fonts.googleapis.com">
  <link id="gfonts-preconnect2" rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link id="gfonts" href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
  <style id="main-style">
    :root {
      --base:    #1e1e2e;
      --mantle:  #181825;
      --crust:   #11111b;
      --surface0: #313244;
      --surface1: #45475a;
      --surface2: #585b70;
      --overlay0: #6c7086;
      --overlay1: #7f849c;
      --overlay2: #9399b2;
      --subtext0: #a6adc8;
      --subtext1: #bac2de;
      --text:    #cdd6f4;
      --lavender:#b4befe;
      --blue:    #89b4fa;
      --sapphire:#74c7ec;
      --sky:     #89dceb;
      --teal:    #94e2d5;
      --green:   #a6e3a1;
      --yellow:  #f9e2af;
      --peach:   #fab387;
      --maroon:  #eba0ac;
      --red:     #f38ba8;
      --mauve:   #cba6f7;
      --pink:    #f5c2e7;
      --flamingo:#f2cdcd;
      --rosewater:#f5e0dc;
    }

    *, *::before, *::after { box-sizing: border-box; }

    body {
      font-family: 'Open Sans', sans-serif;
      background-color: var(--base);
      color: var(--text);
      margin: 0;
      padding: 1rem 2rem;
    }

    a { color: var(--blue); }
    a:visited { color: var(--lavender); }
    a:hover { color: var(--sapphire); }

    header h1 a {
      color: var(--mauve);
      text-decoration: none;
      font-weight: 700;
    }
    header h1 a:visited { color: var(--mauve); }
    header h1 a:hover { color: var(--pink); }

    nav { color: var(--subtext1); }
    nav strong { color: var(--peach); }

    hr {
      border: none;
      border-top: 1px solid var(--surface1);
      margin: 0.75rem 0;
    }

    h2 { color: var(--lavender); }

    table { border-collapse: collapse; width: 100%; }
    th {
      background-color: var(--mantle);
      color: var(--subtext1);
      text-align: left;
      padding: 0.4rem 0.6rem;
      border-bottom: 1px solid var(--surface1);
    }
    td {
      padding: 0.4rem 0.6rem;
      border-bottom: 1px solid var(--surface0);
      color: var(--text);
    }
    tr:hover td { background-color: var(--surface0); }

    button {
      background-color: var(--surface1);
      color: var(--text);
      border: 1px solid var(--surface2);
      padding: 0.25rem 0.6rem;
      border-radius: 4px;
      cursor: pointer;
      font-family: 'Open Sans', sans-serif;
    }
    button:hover { background-color: var(--surface2); color: var(--text); }

    input[type="text"],
    input[type="file"] {
      background-color: var(--mantle);
      color: var(--text);
      border: 1px solid var(--surface1);
      padding: 0.3rem 0.5rem;
      border-radius: 4px;
      font-family: 'Open Sans', sans-serif;
    }
    input[type="text"]:focus,
    input[type="file"]:focus { outline: 2px solid var(--blue); }

    label { color: var(--subtext1); }

    code, pre {
      background-color: var(--mantle);
      color: var(--green);
      border-radius: 4px;
      padding: 0.1rem 0.3rem;
      font-size: 0.9em;
    }
    pre { padding: 0.75rem; overflow-x: auto; }

    dt { color: var(--subtext0); font-weight: 600; margin-top: 0.5rem; }
    dd { color: var(--text); margin-left: 1rem; }
    em { color: var(--subtext1); }
    strong { color: var(--peach); }
  </style>
  <script>
  (function(){
    if(localStorage.getItem('no-style')){
      document.getElementById('main-style').disabled=true;
      document.getElementById('gfonts').disabled=true;
    }
  })();
  </script>
</head>
<body>

<div id="top-toggles" style="position:fixed;top:0.5rem;right:0.5rem;z-index:9999;display:flex;gap:0.5rem;font-family:sans-serif;font-size:0.8rem;">
  <button id="style-toggle" onclick="toggle_style()">Disable styling</button>
  {% if user %}
  <label id="remember-toggle" style="display:flex;align-items:center;gap:0.25rem;cursor:pointer;background:var(--surface1,#45475a);color:var(--text,#cdd6f4);border:1px solid var(--surface2,#585b70);padding:0.25rem 0.6rem;border-radius:4px;">
    <input type="checkbox" id="remember-me-cb" onchange="toggle_remember_me(this.checked)"> Remember me
  </label>
  {% endif %}
</div>

<header>
  <h1><a href="/ui">{{ site_host | default(value="skibidi67.ceo") }}</a></h1>
  <nav aria-label="Site navigation">
    <a href="/ui/videos">Videos</a> | <a href="/ui/audio">Audio</a> | <a href="/ui/images">Images</a> | <a href="/ui/text">Text</a>
    {% if user %}
      | Signed in as <strong>{{ user.username }}</strong>
      | <a href="/ui/upload">Upload</a>
      {% if is_admin %}| <a href="/ui/admin">Admin</a>{% endif %}
      | <a href="/auth/logout">Sign out</a>
    {% else %}
      | <a href="/auth/login">Sign in with osu!</a>
      {% if has_github_oauth %} | <a href="/auth/github/login">Sign in with GitHub</a>{% endif %}
    {% endif %}
  </nav>
  <hr>
</header>

<main>
  {% block content %}{% endblock %}

  <p>consider sending me some clams over on my <a href="https://ko-fi.com/thebearodactyl" rel="noopener">ko-fi</a> :D</p>
</main>

{% block scripts %}{% endblock %}

<script>
function toggle_style(){
  var main_style=document.getElementById('main-style');
  var google_fonts=document.getElementById('gfonts');
  var toggle_btn=document.getElementById('style-toggle');
  if(main_style.disabled){
    main_style.disabled=false;
    google_fonts.disabled=false;
    localStorage.removeItem('no-style');
    toggle_btn.textContent='Disable styling';
  }else{
    main_style.disabled=true;
    google_fonts.disabled=true;
    localStorage.setItem('no-style','1');
    toggle_btn.textContent='Enable styling';
  }
}
(function(){
  if(localStorage.getItem('no-style')){
    document.getElementById('style-toggle').textContent='Enable styling';
  }
})();

function toggle_remember_me(is_checked){
  if(is_checked){
    document.cookie='remember_me=true;path=/;max-age=2592000;SameSite=Lax';
    localStorage.setItem('remember-me','true');
  }else{
    document.cookie='remember_me=;path=/;max-age=0';
    localStorage.removeItem('remember-me');
  }
  fetch('/auth/refresh-cookie',{credentials:'same-origin'}).then(function(){});
}
(function(){
  var remember_cb=document.getElementById('remember-me-cb');
  if(remember_cb && localStorage.getItem('remember-me')){
    remember_cb.checked=true;
  }
})();
</script>

</body>
</html>
